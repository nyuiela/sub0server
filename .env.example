DATABASE_URL="postgresql://user:password@localhost:5432/sub0?schema=public"
REDIS_URL="redis://localhost:6379"
JWT_SECRET="your-jwt-secret-change-in-production"
BINANCE_WS_URL="wss://stream.binance.com:9443/ws"
PORT=3000

# Thirdweb auth (JWT verification) - must match frontend auth domain
AUTH_DOMAIN="localhost:3000"
# Cookie name where frontend stores the JWT (default: sub0-auth-jwt)
AUTH_COOKIE_NAME="sub0-auth-jwt"
THIRDWEB_SECRET_KEY=""
THIRDWEB_ADMIN_PRIVATE_KEY=""

# API key for server/admin access.
# Generate once (e.g. run: openssl rand -hex 32), then use that value in three places:
# 1. Backend: API_KEY=... (auth for internal routes; header x-api-key or api-key).
# 2. Backend: CRE_HTTP_API_KEY=... (value the backend sends to CRE in body.apiKey when calling CRE_HTTP_URL).
# 3. CRE workflow: HTTP_API_KEY=... (in sub0cre/.env for simulate, or CRE secret "HTTP_API_KEY" for deployed workflow).
#    The workflow's verifyApiKey() requires body.apiKey to match this. So CRE_HTTP_API_KEY and HTTP_API_KEY must be the same.
# If you do not set HTTP_API_KEY in CRE, the workflow skips API key check (ok for local/Docker only).
API_KEY=""

# Secret for encrypting agent private keys (defaults to JWT_SECRET if unset)
# AGENT_ENCRYPTION_SECRET=""

# CORS origin for credentials (frontend URL, or true for any)
CORS_ORIGIN="http://localhost:3000"

# Platform liquidity: address that holds LONG positions used to auto-fill MARKET orders.
# When set, one position per outcome is created on market create and MARKET BID remainder is filled from it.
# PLATFORM_LIQUIDITY_ADDRESS="0x..."
# Initial size per outcome (default 10000).
# PLATFORM_INITIAL_LIQUIDITY_PER_OUTCOME=10000

# News ingestion (RSS + CryptoPanic). Run worker: pn news-ingest
# Poll interval in ms (default 10000 = 10s).
# NEWS_POLL_INTERVAL_MS=10000
# Optional: filter stored items by tickers (comma-separated). Empty = store all.
# NEWS_FILTER_CURRENCIES=BTC,ETH
# Optional: CryptoPanic API key for aggregated crypto news (free tier: 5 req/s).
# CRYPTOPANIC_API_KEY=

# Agent market creation (Gemini + XAI/Grok). Internal routes: GET /api/internal/agent-markets, POST /api/internal/markets/onchain-created
# CRE (createMarketsFromBackend, settlement) calls these with x-api-key; set CRE BACKEND_API_KEY to this same value.
# AGENT_MARKETS_PER_JOB=10
# GEMINI_API_KEY=
# GEMINI_MODEL=gemini-2.0-flash
# XAI_API_KEY=   (Grok is XAI; one key. Optional: if set, half of markets come from Grok)
# XAI_MODEL=grok-2-mini   (or GROK_MODEL; model name for XAI API e.g. grok-2-mini, grok-3-mini)
# PLATFORM_ORACLE_ADDRESS=0x...
# PLATFORM_CREATOR_ADDRESS=0x...
# DEFAULT_COLLATERAL_TOKEN=0x...

# CRE HTTP trigger (for create-wallet and optional market-generation job).
# CRE_HTTP_URL=   (e.g. http://localhost:8080 for Docker gateway, or deployed CRE endpoint)
# For createMarketsFromBackend the backend sends body.apiKey from API_KEY above so the workflow can call /api/internal/*. CRE_HTTP_API_KEY is optional (fallback if set).
# CRE_HTTP_API_KEY=   (optional; for other triggers e.g. createAgentKey; set to CRE workflow HTTP_API_KEY when that is required)
# CRE_MARKET_CRON_ENABLED=false   (set true to have backend POST createMarketsFromBackend to CRE on an interval)
# CRE_MARKET_CRON_INTERVAL_MS=3600000   (e.g. 1 hour; only if CRE_MARKET_CRON_ENABLED=true)
