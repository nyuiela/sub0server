DATABASE_URL="postgresql://user:password@localhost:5432/sub0?schema=public"
REDIS_URL="redis://localhost:6379"
JWT_SECRET="your-jwt-secret-change-in-production"
BINANCE_WS_URL="wss://stream.binance.com:9443/ws"
PORT=3000

# Thirdweb auth (JWT verification) - must match frontend auth domain
AUTH_DOMAIN="localhost:3000"
# Cookie name where frontend stores the JWT (default: sub0-auth-jwt)
AUTH_COOKIE_NAME="sub0-auth-jwt"
THIRDWEB_SECRET_KEY=""
THIRDWEB_ADMIN_PRIVATE_KEY=""

# API key for server/admin access.
# Generate once (e.g. run: openssl rand -hex 32), then use that value in three places:
# 1. Backend: API_KEY=... (auth for internal routes; header x-api-key or api-key).
# 2. Backend: CRE_HTTP_API_KEY=... (value the backend sends to CRE in body.apiKey when calling CRE_HTTP_URL).
# 3. CRE workflow: HTTP_API_KEY=... (in sub0cre/.env for simulate, or CRE secret "HTTP_API_KEY" for deployed workflow).
#    The workflow's verifyApiKey() requires body.apiKey to match this. So CRE_HTTP_API_KEY and HTTP_API_KEY must be the same.
# If you do not set HTTP_API_KEY in CRE, the workflow skips API key check (ok for local/Docker only).
API_KEY=""

# Secret for encrypting agent private keys (defaults to JWT_SECRET if unset)
# AGENT_ENCRYPTION_SECRET=""

# CORS origin for credentials (frontend URL, or true for any)
CORS_ORIGIN="http://localhost:3000"

# Platform liquidity: address that holds LONG positions used to auto-fill MARKET orders.
# When set, one position per outcome is created on market create and MARKET BID remainder is filled from it.
# PLATFORM_LIQUIDITY_ADDRESS="0x..."
# Initial size per outcome (default 10000).
# PLATFORM_INITIAL_LIQUIDITY_PER_OUTCOME=10000

# News ingestion (RSS + CryptoPanic). Run worker: pn news-ingest
# Poll interval in ms (default 10000 = 10s).
# NEWS_POLL_INTERVAL_MS=10000
# Optional: filter stored items by tickers (comma-separated). Empty = store all.
# NEWS_FILTER_CURRENCIES=BTC,ETH
# Optional: CryptoPanic API key for aggregated crypto news (free tier: 5 req/s).
# CRYPTOPANIC_API_KEY=

# Agent market creation (Gemini + XAI/Grok). Internal routes: GET /api/internal/agent-markets, POST /api/internal/markets/onchain-created
# CRE (createMarketsFromBackend, settlement) calls these with x-api-key; set CRE BACKEND_API_KEY to this same value.
# AGENT_MARKETS_PER_JOB=10
# Multi-key rotation (comma-separated or GEMINI_API_KEY_TRADING_1/2/3, GEMINI_API_KEY_MARKET_CREATION_1/2/3): fallback on rate limit.
# GEMINI_API_KEYS_TRADING=key1,key2,key3
# GEMINI_API_KEYS_MARKET_CREATION=key1,key2,key3
# GEMINI_API_KEY_MARKET_CREATION_1=   GEMINI_API_KEY_MARKET_CREATION_2=   GEMINI_API_KEY_MARKET_CREATION_3=
# GEMINI_MODELS=model1,model2
# GEMINI_API_KEY=   (fallback if *_KEYS_* not set)
# GEMINI_MODEL=gemini-2.0-flash
# XAI_API_KEYS=key1   (or XAI_API_KEY; optional)
# XAI_MODELS=model1,model2   or XAI_MODEL_1=   XAI_MODEL_2=   XAI_MODEL_3=
# XAI_MODEL=grok-3-mini
# XAI_API_KEY=   (Grok is XAI; one key. Optional: if set, half of markets come from Grok)
# Open WebUI (OpenUI) – optional third source for agent market creation (OpenAI-compatible /api/chat/completions).
# OPENWEBUI_BASE_URL=   (e.g. https://ai.kaleelhq.space)
# OPENWEBUI_API_KEY=   (Bearer token if required)
# OPENWEBUI_MODEL=gpt-oss:20b
# PLATFORM_ORACLE_ADDRESS=0x...
# PLATFORM_CREATOR_ADDRESS=0x...
# DEFAULT_COLLATERAL_TOKEN=0x...
# AGENT_MARKET_AMOUNT_USDC=1000000   (default USDC amount for agent-created market seed; matches create-market-payload.json)

# CRE HTTP trigger (for create-wallet and optional market-generation job).
# CRE_HTTP_URL=   (e.g. http://localhost:8080 for Docker gateway, or deployed CRE endpoint)
# For createMarketsFromBackend the backend sends body.apiKey from API_KEY above so the workflow can call /api/internal/*. CRE_HTTP_API_KEY is optional (fallback if set).
# CRE_HTTP_API_KEY=   (optional; for other triggers e.g. createAgentKey; set to CRE workflow HTTP_API_KEY when that is required)
# CRE_MARKET_CRON_ENABLED=false   (set true to have backend POST createMarketsFromBackend to CRE on an interval)
# CRE_MARKET_CRON_INTERVAL_MS=3600000   (e.g. 1 hour; only if CRE_MARKET_CRON_ENABLED=true)
# CRE_MARKET_CRON_BROADCAST=false   (set true for real onchain txs from cron)

# CRE callback: when CRE creates agent wallet (Option 2), CRE gateway POSTs to backend. See sub0cre/md/cre-integration.agent-wallet.md.
# POST /api/internal/cre/create-wallet-result with x-api-key and body: { agentId, address, encryptedPrivateKey? }

# Agent worker (scout→analyze→trade): set AGENT_TRADING_ENABLED=true to run LLM analysis and POST /api/orders.
# BACKEND_URL=http://localhost:3000   (worker calls this for orders; default http://localhost:PORT)
# AGENT_TRADING_ENABLED=false
